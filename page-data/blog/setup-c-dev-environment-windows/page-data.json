{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/setup-c-dev-environment-windows/","result":{"data":{"markdownRemark":{"html":"<p>In this post, I’m sharing my experience to set up a C development environment on Windows. I’m installing <a href=\"https://gcc.gnu.org/\">GCC</a> from the <a href=\"https://msys2.org\">MSYS2</a> project and using <a href=\"https://code.visualstudio.com/\">Visual Studio Code</a> as my IDE.</p>\n<h2 id=\"install-msys2\" style=\"position:relative;\"><a href=\"#install-msys2\" aria-label=\"install msys2 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Install MSYS2</h2>\n<p>MSYS2 is a project which provides a collection of tools for building native Windows software. <a href=\"https://www.msys2.org/docs/what-is-msys2/\">See this documentation for learning more about it.</a> I have installed MSYS2 as explained on <a href=\"https://www.msys2.org/#installation\">the installation page</a> using the installer in the default location.</p>\n<h3 id=\"installing-toolchain\" style=\"position:relative;\"><a href=\"#installing-toolchain\" aria-label=\"installing toolchain permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Installing Toolchain</h3>\n<p>After installing the base MSYS2 installation, I installed the toolchain for the MINGW64 environment. For that, I did the following steps:</p>\n<ol>\n<li>\n<p>Open “MSYS2 MSYS” from Start menu.</p>\n</li>\n<li>\n<p>Run the following command:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ pacman -S --needed base-devel mingw-w64-x86_64-toolchain\r\nwarning: file-5.39-2 is up to <span class=\"token function\">date</span> -- skipping\r\n<span class=\"token punctuation\">[</span><span class=\"token punctuation\">..</span>. <span class=\"token function\">more</span> warnings <span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">]</span>\r\n:: There are <span class=\"token number\">48</span> members <span class=\"token keyword\">in</span> group base-devel:\r\n:: Repository msys\r\n   <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> asciidoc  <span class=\"token number\">2</span><span class=\"token punctuation\">)</span> autoconf  <span class=\"token number\">3</span><span class=\"token punctuation\">)</span> autoconf2.13  <span class=\"token number\">4</span><span class=\"token punctuation\">)</span> autogen\r\n   <span class=\"token punctuation\">[</span><span class=\"token punctuation\">..</span>. <span class=\"token function\">more</span> packages listed <span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">]</span>\r\n\r\nEnter a selection <span class=\"token punctuation\">(</span>default<span class=\"token operator\">=</span>all<span class=\"token punctuation\">)</span>:\r\n:: There are <span class=\"token number\">19</span> members <span class=\"token keyword\">in</span> group mingw-w64-x86_64-toolchain:\r\n:: Repository mingw64\r\n   <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> mingw-w64-x86_64-binutils  <span class=\"token number\">2</span><span class=\"token punctuation\">)</span> mingw-w64-x86_64-crt-git\r\n   <span class=\"token punctuation\">[</span><span class=\"token punctuation\">..</span>. <span class=\"token function\">more</span> packages listed <span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">]</span>\r\n\r\nEnter a selection <span class=\"token punctuation\">(</span>default<span class=\"token operator\">=</span>all<span class=\"token punctuation\">)</span>:\r\nresolving dependencies<span class=\"token punctuation\">..</span>.\r\nlooking <span class=\"token keyword\">for</span> conflicting packages<span class=\"token punctuation\">..</span>.\r\n\r\nPackages <span class=\"token punctuation\">(</span><span class=\"token number\">123</span><span class=\"token punctuation\">)</span> docbook-xml-4.5-2  docbook-xsl-1.79.2-1\r\n               <span class=\"token punctuation\">[</span><span class=\"token punctuation\">..</span>. <span class=\"token function\">more</span> packages listed <span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">]</span>\r\n               m4-1.4.18-2  make-4.3-1  man-db-2.9.3-1\r\n               mingw-w64-x86_64-binutils-2.35.1-3\r\n               mingw-w64-x86_64-crt-git-9.0.0.6090.ad98746a-1\r\n               mingw-w64-x86_64-gcc-10.2.0-6\r\n               mingw-w64-x86_64-gcc-ada-10.2.0-6\r\n               mingw-w64-x86_64-gcc-fortran-10.2.0-6\r\n               mingw-w64-x86_64-gcc-libgfortran-10.2.0-6\r\n               mingw-w64-x86_64-gcc-libs-10.2.0-6\r\n               mingw-w64-x86_64-gcc-objc-10.2.0-6\r\n               mingw-w64-x86_64-gdb-10.1-2\r\n               mingw-w64-x86_64-gdb-multiarch-10.1-2\r\n              <span class=\"token punctuation\">[</span><span class=\"token punctuation\">..</span>. <span class=\"token function\">more</span> packages listed <span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">]</span>\r\n\r\nTotal Download Size:    <span class=\"token number\">196.15</span> MiB\r\nTotal Installed Size:  <span class=\"token number\">1254.96</span> MiB\r\n\r\n:: Proceed with installation? <span class=\"token punctuation\">[</span>Y/n<span class=\"token punctuation\">]</span>\r\n<span class=\"token punctuation\">[</span><span class=\"token punctuation\">..</span>. downloading and installation continues <span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">]</span></code></pre></div>\n</li>\n</ol>\n<h3 id=\"verifying-toolchain\" style=\"position:relative;\"><a href=\"#verifying-toolchain\" aria-label=\"verifying toolchain permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Verifying Toolchain</h3>\n<ol>\n<li>\n<p>Open “MSYS MinGW 64-bit” from start menu.</p>\n</li>\n<li>\n<p>Verify that <code class=\"language-text\">gcc --version</code> works.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ gcc --version\r\ngcc.exe <span class=\"token punctuation\">(</span>Rev10, Built by MSYS2 project<span class=\"token punctuation\">)</span> <span class=\"token number\">11.2</span>.0\r\nCopyright <span class=\"token punctuation\">(</span>C<span class=\"token punctuation\">)</span> <span class=\"token number\">2021</span> Free Software Foundation, Inc.\r\nThis is <span class=\"token function\">free</span> software<span class=\"token punctuation\">;</span> see the <span class=\"token builtin class-name\">source</span> <span class=\"token keyword\">for</span> copying conditions.  There is NO\r\nwarranty<span class=\"token punctuation\">;</span> not even <span class=\"token keyword\">for</span> MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a743778a5ffe3d811d6a5118605ae4bd/f470a/gcc-version-test.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 18.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAtklEQVQY031OSQ6DMBDjD4S1J7YkQBLggIRKWML//+Rq5lZV6sHyLJbtKMsyFGWB8lUiTdMfJEIwk46Q5/lfRNY52MlhWmYorSGlZDbWopMS4zjyrWkaVFXFpnEcQwjBSJLka47O68K6rti2Ddd9473v8N4jhIDjPBGeB/44WHOHgGVZYK2Fcw5933M47cZYKKUQSaU4ves6PrRty62oIbXXWvO/rmvM84xhGBikISPi0RgOIsMP7iNzAvQhdQcAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"gcc version test\"\n        title=\"gcc version test\"\n        src=\"/static/a743778a5ffe3d811d6a5118605ae4bd/e5715/gcc-version-test.png\"\n        srcset=\"/static/a743778a5ffe3d811d6a5118605ae4bd/8514f/gcc-version-test.png 192w,\n/static/a743778a5ffe3d811d6a5118605ae4bd/804b2/gcc-version-test.png 384w,\n/static/a743778a5ffe3d811d6a5118605ae4bd/e5715/gcc-version-test.png 768w,\n/static/a743778a5ffe3d811d6a5118605ae4bd/4ad3a/gcc-version-test.png 1152w,\n/static/a743778a5ffe3d811d6a5118605ae4bd/f470a/gcc-version-test.png 1443w\"\n        sizes=\"(max-width: 768px) 100vw, 768px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n</li>\n<li>\n<p>Compile a test program:</p>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;stdio.h></span></span>\r\n<span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\r\n\t<span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello World\\n\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Save the test program to <code class=\"language-text\">test.c</code> and then run <code class=\"language-text\">gcc test.c</code> in the same shell and then run the executable by <code class=\"language-text\">./a.exe</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">~ took 20s\r\n❯ gcc test.c\r\n\r\n~ took 8s\r\n❯ ./a.exe\r\nHello World</code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 512px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7fc59902c8ba6b646bb87658ee47a7d3/01e7c/gcc-test-compilation.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.041666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABv0lEQVQoz4WS2Y7aQBBF+YJEiWnvgMH7MthjMAbsKMTERCKKNMnkKf//Hydyz2BGykMejqq61H3rqqonXuyz9Ja4oYefhKwCV+ay7q9kvgpdWZ8vFziOQxTHpFmK6wWkK4XuUeDYGqqmMynbiqzKR6I8IVon1OeGuEgJHyLW9SPpZo0befh+wOfTie7cka0LqugDf05T1r6KUHUmHxcazaHh1/NvkjjB8ZYUh5Jsu2YVetKhmAqJqqqSqaKgKApCCCnyXtFl1HWNiWpoRFFEkiRYloVpmcydObPFHHs+w5rZ6LqOpmkj8jzWXoQGhnximiZCFaiaKsVesOSjgeGsG4aMhmkw3B+QzU2LmaVhGnfhSd0dKY4b8mNJ0WyIy5SoSKj7Rs7uocopP1XkhxI/C4njmP5y4Xq9UpQ7vm/f8WMvUMSroO7asvtuv2dbVeRFIYde1TumYjq6NAxjdD24Gxhqhq5hm28cullI4AW0bUu123E8NvT9hcPhyGKxwLZtuYi3Mxy413T5XcYZPj39pDufadqWNE350nVcLt+o6z1f+54gCOQ2b+7+5b4Q6XC4rAoxbu/W+fZFxq2+xv/xF47qGFoN7FnKAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"gcc test compilation msys2\"\n        title=\"gcc test compilation msys2\"\n        src=\"/static/7fc59902c8ba6b646bb87658ee47a7d3/01e7c/gcc-test-compilation.png\"\n        srcset=\"/static/7fc59902c8ba6b646bb87658ee47a7d3/8514f/gcc-test-compilation.png 192w,\n/static/7fc59902c8ba6b646bb87658ee47a7d3/804b2/gcc-test-compilation.png 384w,\n/static/7fc59902c8ba6b646bb87658ee47a7d3/01e7c/gcc-test-compilation.png 512w\"\n        sizes=\"(max-width: 512px) 100vw, 512px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n</li>\n</ol>\n<p>If everything works as expected then follow next steps. If something seems broken and doesn’t work, please ask in <code class=\"language-text\">#help</code> at <a href=\"https://discord.gg/jPQdRdDcT9\">MSYS2’s discord server</a>.</p>\n<h2 id=\"configuring-visual-studio-code\" style=\"position:relative;\"><a href=\"#configuring-visual-studio-code\" aria-label=\"configuring visual studio code permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Configuring Visual Studio Code</h2>\n<p>Open Visual Studio Code (VSCode). Typing <kbd>Win + R</kbd> and typing entering <code class=\"language-text\">code</code> should open it. Or you can open it by searching it in the start menu.</p>\n<h3 id=\"install-extensions\" style=\"position:relative;\"><a href=\"#install-extensions\" aria-label=\"install extensions permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Install Extensions</h3>\n<p><a href=\"https://code.visualstudio.com/docs/editor/extension-marketplace\">Install</a> the <a href=\"https://marketplace.visualstudio.com/items?itemName=ms-vscode.cpptools\">C/C++</a> extension for Visual Studio Code.</p>\n<p>You can install the C/C++ extension by searching for ‘c++’ in the Extensions view <kbd>Ctrl+Shift+X</kbd>.</p>\n<h3 id=\"creating-a-hello-world-project\" style=\"position:relative;\"><a href=\"#creating-a-hello-world-project\" aria-label=\"creating a hello world project permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Creating a hello world project</h3>\n<p>Create a hello world project (or open a project you already have):</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">mkdir projects\r\ncd projects\r\nmkdir helloworld\r\ncd helloworld\r\ncode .</code></pre></div>\n<p>The “code .” command opens VS Code in the current working folder, which becomes your “workspace”. Accept the <a href=\"https://code.visualstudio.com/docs/editor/workspace-trust\">Workspace Trust dialog</a> by selecting “Yes”, I trust the authors since this is a folder you created.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/96d07df6f378d96659631740266d5b23/6a6e9/vscode-workspace-trust.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 63.541666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAACY0lEQVQ4y31S21LTUBQ9bSBUCpSLbQEpbdO0uTdNcystCQVHRscZnBGxVmBGEPXRP3DGB0dF1E9eenZK6Pjgw8q+nbOz91qHsaoKVpHBthWwqgYeZ+sGRNnCTMOE2GxDkAzK/x/JXcYkC6L9CNmmC1bXwepGgtqtvctlJJMw7U/n6GxGdrB6+BGCHqNgeSh7MYrdAaHsxyh7ETaDPaw6ffLX/QgbQYw1p48NP8ZmuIeSuztpqIHxroIagk+alUzMNm3MyG2C0LAoFib+LW5rwuQcRzohfWoJB/OaiyUrIBTaIQpWgAXDp3jR9LFohVixdyjPY6rrLpbbPYqJx4QjkwJe2OrtY93ja+0RNsMhrcrzD3pDrPsxinx9f4iiN0TJTSjhFGT4lCnpVY2m4hdL3i5d5NzwptzymJp1+5CfvEa++xj3rBhFN6L6amcHWf4aUmVrOuZanXTlBcNDwQqJK7bVAttSUrvs7IJVFLBKC6yiJv62eidKSmjDgqh1Mae5yOkecpoLUe0SZpQORMVBTnEwK1tkuRgZySAx6emkovB3VTcwW9Ww0uqgqLmE+2oXa6qDsumjpLko2z3kzQBL7RB5w0dmevp/J8xXNegHh6g/P4b54iXMkxHaozHs0Rj68Qm2j57BDAZoen0ovRjazhDG4ADGYB9W9BCyN4AwLcp8RUH99Azmty+Ibq7R+/4V8a8fGP7+ifjmGvLnT/CfHuF8fIaLt+9xcXGF0/M3uLx8h6urDzg+eQVRmmqYq+lQ7AByGNHfJK+PhtdPrD+AEkSQDRd5pYOFCfIt+86qHWT+CvwHnup5QyVXESIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"vscode workspace trust\"\n        title=\"vscode workspace trust\"\n        src=\"/static/96d07df6f378d96659631740266d5b23/e5715/vscode-workspace-trust.png\"\n        srcset=\"/static/96d07df6f378d96659631740266d5b23/8514f/vscode-workspace-trust.png 192w,\n/static/96d07df6f378d96659631740266d5b23/804b2/vscode-workspace-trust.png 384w,\n/static/96d07df6f378d96659631740266d5b23/e5715/vscode-workspace-trust.png 768w,\n/static/96d07df6f378d96659631740266d5b23/6a6e9/vscode-workspace-trust.png 826w\"\n        sizes=\"(max-width: 768px) 100vw, 768px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Also, create a file <code class=\"language-text\">helloworld.c</code> with the following “Hello World” code:</p>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;stdio.h></span></span>\r\n<span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\r\n\t<span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello World\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"configuring-visual-studio-code-to-use-gcc-compiler\" style=\"position:relative;\"><a href=\"#configuring-visual-studio-code-to-use-gcc-compiler\" aria-label=\"configuring visual studio code to use gcc compiler permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Configuring Visual Studio Code to use GCC compiler</h3>\n<p>Open the Command Palette (<code class=\"language-text\">Ctrl+Shift+P</code>) and the select <strong>C/C++: Edit Configurations (UI)</strong>. Change the <strong>Configuration name</strong> to <strong>GCC</strong>, set the <strong>Compiler path</strong> dropdown to the gcc compiler (<code class=\"language-text\">C:/msys64/mingw64/bin/gcc.exe</code>), and the <strong>IntelliSense mode</strong> to match the compiler (<strong>windows-gcc-x64</strong>).</p>\n<p>The JSON file (<code class=\"language-text\">.vscode/c_cpp_properties.json</code>) in the end should look like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\r\n    <span class=\"token property\">\"configurations\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\r\n        <span class=\"token punctuation\">{</span>\r\n            <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"GCC\"</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token property\">\"includePath\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\r\n                <span class=\"token string\">\"${default}\"</span>\r\n            <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token property\">\"defines\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\r\n                <span class=\"token string\">\"_DEBUG\"</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">\"UNICODE\"</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">\"_UNICODE\"</span>\r\n            <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token property\">\"compilerPath\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"C:/msys64/mingw64/bin/gcc.exe\"</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token property\">\"cStandard\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"c17\"</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token property\">\"cppStandard\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"c++17\"</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token property\">\"intelliSenseMode\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"windows-gcc-x64\"</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token property\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token number\">4</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>This should enable <a href=\"https://en.wikipedia.org/wiki/Intelligent_code_completion#IntelliSense\">Intellisense</a>.</p>\n<h3 id=\"configuring-tasksjson\" style=\"position:relative;\"><a href=\"#configuring-tasksjson\" aria-label=\"configuring tasksjson permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Configuring <code class=\"language-text\">tasks.json</code></h3>\n<p>This file is used to tell VS Code how to build (compile) the program. This task will invoke the <code class=\"language-text\">gcc</code> compiler to create an executable file based on the source code.</p>\n<p>From the main menu, choose <code class=\"language-text\">Terminal > Configure Default Build Task</code>. In the dropdown, which will display a tasks dropdown listing various predefined build tasks for C compilers. Choose <code class=\"language-text\">gcc.exe</code> build active file, which will build the file that is currently displayed (active) in the editor.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4793b1fce99d1ceabc6a3b33156e1392/65d79/vscode-default-task.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 13.541666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAh0lEQVQI143GTw+BYADA4ZciXMna/PsOLOok0clyZq/8OZZGLm7Z6IP/rPcL6PBsjzCcgMbcVzR7RXOxRrd92m5Axw1oORulNvMQ0+UfHqK7jzEPMZZMGUQplrwp+u6C2EbUwxNaeFavZJwVmEnO8P6h/OjxZZIV9JM3vTjHuL4QMkMcn5X8AJAIZZhUqeJ2AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"vscode default gcc task\"\n        title=\"vscode default gcc task\"\n        src=\"/static/4793b1fce99d1ceabc6a3b33156e1392/e5715/vscode-default-task.png\"\n        srcset=\"/static/4793b1fce99d1ceabc6a3b33156e1392/8514f/vscode-default-task.png 192w,\n/static/4793b1fce99d1ceabc6a3b33156e1392/804b2/vscode-default-task.png 384w,\n/static/4793b1fce99d1ceabc6a3b33156e1392/e5715/vscode-default-task.png 768w,\n/static/4793b1fce99d1ceabc6a3b33156e1392/65d79/vscode-default-task.png 905w\"\n        sizes=\"(max-width: 768px) 100vw, 768px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>This will create a <code class=\"language-text\">tasks.json</code> file in a <code class=\"language-text\">.vscode</code> folder and open it in the editor, modify the file as required.</p>\n<p>You can now build your source file by using <kbd>Ctrl+Shift+B</kbd> and run it by opening a terminal inside VSCode and runnning <code class=\"language-text\">.\\helloworld.exe</code>.</p>\n<h3 id=\"setting-up-debugger\" style=\"position:relative;\"><a href=\"#setting-up-debugger\" aria-label=\"setting up debugger permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Setting up Debugger</h3>\n<p>This steps will configure Visual Studio Code to use GDB debugger when you press <code class=\"language-text\">F5</code> to debug  the program.</p>\n<ol>\n<li>From the main menu, choose \t<code class=\"language-text\">Run > Add Configuration...</code> and then choose <code class=\"language-text\">C++ (GDB/LLDB)</code>.</li>\n<li>Click on “Add Configuration” and select “C/C++: (gdb) Launch”. The creates <code class=\"language-text\">launch.json</code> and opens it.</li>\n<li>Edit the file to change the key <code class=\"language-text\">miDebuggerPath</code> to the actual executable of GDB (<code class=\"language-text\">C:\\\\msys64\\\\mingw64\\\\bin\\\\gdb.exe</code>).</li>\n<li>Edit the file to change the key <code class=\"language-text\">program</code> to <code class=\"language-text\">${fileDirname}\\\\${fileBasenameNoExtension}.exe</code>.</li>\n<li>Again, edit the file to add <code class=\"language-text\">\"preLaunchTask\": \"C/C++: gcc.exe build active file\"</code> to the end, so that the file you edit is actually built before running the debugger.</li>\n</ol>\n<p>The <code class=\"language-text\">launch.json</code> looks like this in the end</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\r\n    <span class=\"token property\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"0.2.0\"</span><span class=\"token punctuation\">,</span>\r\n    <span class=\"token property\">\"configurations\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\r\n        <span class=\"token punctuation\">{</span>\r\n            <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"(gdb) Launch\"</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"cppdbg\"</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token property\">\"request\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"launch\"</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token property\">\"program\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"${fileDirname}\\\\${fileBasenameNoExtension}.exe\"</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token property\">\"args\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token property\">\"stopAtEntry\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token property\">\"cwd\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"${fileDirname}\"</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token property\">\"environment\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token property\">\"externalConsole\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token property\">\"MIMode\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"gdb\"</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token property\">\"miDebuggerPath\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"C:\\\\msys64\\\\mingw64\\\\bin\\\\gdb.exe\"</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token property\">\"setupCommands\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\r\n                <span class=\"token punctuation\">{</span>\r\n                    <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Enable pretty-printing for gdb\"</span><span class=\"token punctuation\">,</span>\r\n                    <span class=\"token property\">\"text\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"-enable-pretty-printing\"</span><span class=\"token punctuation\">,</span>\r\n                    <span class=\"token property\">\"ignoreFailures\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\r\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\r\n                <span class=\"token punctuation\">{</span>\r\n                    <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span>  <span class=\"token string\">\"Set Disassembly Flavor to Intel\"</span><span class=\"token punctuation\">,</span>\r\n                    <span class=\"token property\">\"text\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"-gdb-set disassembly-flavor intel\"</span><span class=\"token punctuation\">,</span>\r\n                    <span class=\"token property\">\"ignoreFailures\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\r\n                <span class=\"token punctuation\">}</span>\r\n            <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\r\n            <span class=\"token property\">\"preLaunchTask\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"C/C++: gcc.exe build active file\"</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">]</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>After this, you can have a look at <a href=\"https://code.visualstudio.com/docs/cpp/config-mingw#_debug-helloworldcpp\">Visual Studio Code’s docs</a> on how to debug.</p>\n<p>Hope this helps you in configuring Visual Studio Code for setting up a development environment for C. If you have an error, or found something to difficult to  understand, jump over to <code class=\"language-text\">#help</code> on <a href=\"https://discord.gg/jPQdRdDcT9\">MSYS2’s Discord server</a>.</p>","frontmatter":{"date":"April 07, 2022","slug":"/blog/setup-c-dev-environment-windows/","title":"Setup a C development environment on Windows","description":"The article explains how to setup a C development environment on Windows with GCC as compiler and Visual Studio Code as IDE.","image":"/assets/c-install/banner.png"}}},"pageContext":{"id":"c685e654-bcef-5d27-be77-ac9e52570aaf","previousPostId":"f480d619-e3b6-589d-94c7-772a0fa4017c","nextPostId":null}},"staticQueryHashes":["1216879795"]}